<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>بروفايل | فهد</title>
  <!-- SEO Meta Tags & Schema.org -->
  <meta name="description" content="موقع بروفايل تفاعلي لمطور ويب محترف">
  <meta name="keywords" content="بروفايل, مطور ويب, تفاعلي, تصميم, مشاريع">
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "فهد",
    "jobTitle": "مطور ويب محترف",
    "url": "YOUR_WEBSITE_URL"
  }
  </script>
  <!-- استيراد أيقونات وخطوط -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600&display=swap" rel="stylesheet">
  <!-- استيراد مكتبات خارجية -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/css/lightbox.min.css">
  <style>
    :root {
      --primary-color: #2c3e50;
      --accent-color: #1abc9c;
      --secondary-color: #3498db;
      --text-color: #34495e;
      --bg-color: #f8f9fa;
      --transition: all 0.3s ease;
      --modal-bg: #fff;
    }
    [data-theme="dark"] {
      --primary-color: #1e272e;
      --accent-color: #0fb9b1;
      --secondary-color: #1e90ff;
      --text-color: #ecf0f1;
      --bg-color: #2f3640;
      --modal-bg: #3b3b3b;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Cairo', sans-serif;
      background: var(--bg-color);
      color: var(--text-color);
      line-height: 1.6;
      transition: var(--transition);
    }
    /* مؤشر التحميل */
    #preloader {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: var(--bg-color); display: flex; align-items: center; justify-content: center; z-index: 2000;
    }
    .spinner {
      border: 8px solid #f3f3f3;
      border-top: 8px solid var(--accent-color);
      border-radius: 50%;
      width: 60px; height: 60px;
      animation: spin 1s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
    /* الهيدر */
    .header {
      text-align: center;
      padding: 4rem 1rem;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: white;
      position: relative;
      overflow: hidden;
    }
    .header::after {
      content: '';
      position: absolute;
      bottom: -50px;
      left: 0;
      width: 100%;
      height: 100px;
      background: var(--bg-color);
      transform: skewY(-3deg);
    }
    .profile-container { position: relative; max-width: 1200px; margin: 0 auto; }
    .profile-img {
      width: 180px; height: 180px; border-radius: 50%;
      border: 4px solid rgba(255,255,255,0.3);
      margin: 0 auto 1.5rem; cursor: pointer;
      transition: var(--transition); object-fit: cover;
    }
    .profile-img:hover { transform: scale(1.05); box-shadow: 0 0 20px rgba(0,0,0,0.2); }
    /* أزرار الهيدر */
    .secret-trigger, .theme-toggle, .lang-toggle {
      position: absolute; width: 40px; height: 40px;
      background: rgba(255,255,255,0.2); border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      cursor: pointer; transition: var(--transition);
    }
    .secret-trigger { top: 20px; left: 20px; }
    .secret-trigger:hover { background: rgba(255,255,255,0.3); transform: rotate(90deg); }
    .theme-toggle { top: 20px; right: 20px; }
    .theme-toggle:hover { background: rgba(255,255,255,0.3); }
    .lang-toggle { top: 20px; right: 70px; }
    .lang-toggle i { color: white; font-size: 1.2rem; }
    /* الأقسام */
    .content-section {
      padding: 4rem 1rem; max-width: 1200px; margin: 0 auto;
    }
    /* قسم المهارات */
    #skillsTitle { text-align: center; margin-bottom: 2rem; }
    .skills-grid {
      display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem; margin-top: 2rem;
    }
    .skill-card {
      background: white; padding: 2rem; border-radius: 15px;
      box-shadow: 0 3px 15px rgba(0,0,0,0.1); text-align: center; transition: var(--transition);
    }
    .skill-card:hover { transform: translateY(-5px); }
    .skill-card i { font-size: 2.5rem; color: var(--accent-color); margin-bottom: 1rem; }
    .progress {
      background: #ddd; border-radius: 20px; overflow: hidden;
      height: 20px; margin: 10px 0;
    }
    .progress-bar {
      height: 100%; width: 0;
      background: var(--accent-color); border-radius: 20px;
      transition: width 1.5s ease;
    }
    /* قسم البورتفوليو */
    #portfolioTitle { text-align:center; margin-bottom: 2rem; }
    .portfolio-filters { text-align: center; margin-bottom: 1rem; }
    .portfolio-filters button {
      margin: 0 5px; padding: 10px 20px; border: none;
      background: var(--accent-color); color: #fff; cursor: pointer;
      border-radius: 5px;
    }
    .portfolio-grid {
      display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
    }
    .portfolio-card {
      background: white; padding: 2rem; border-radius: 15px;
      box-shadow: 0 3px 15px rgba(0,0,0,0.1); text-align: center; transition: var(--transition);
    }
    .portfolio-card:hover { transform: translateY(-5px); }
    .portfolio-card i { font-size: 2.5rem; color: var(--accent-color); margin-bottom: 1rem; }
    /* أقسام عامة */
    #eventsSection, #chronicSection, #upcomingProjectsSection, #testimonialsSection {
      background: white; border-radius: 10px;
      box-shadow: 0 3px 15px rgba(0,0,0,0.1); padding: 2rem; margin-bottom: 2rem;
    }
    #eventsTitle { text-align:center; margin-bottom: 2rem; }
    /* قسم التواصل */
    .contact-form {
      padding: 2rem; background: white; margin: 2rem 0;
      border-radius: 10px; box-shadow: 0 3px 15px rgba(0,0,0,0.1);
    }
    .contact-form form input,
    .contact-form form textarea {
      width: 100%; padding: 10px; margin: 10px 0;
      border: 1px solid #ddd; border-radius: 5px;
    }
    .contact-form form button {
      padding: 10px 20px; background: var(--accent-color);
      color: white; border: none; border-radius: 5px; cursor: pointer;
    }
    /* قسم المشاركة */
    .social-share { text-align: center; margin: 2rem 0; }
    .social-share a {
      margin: 0 10px; color: var(--text-color); font-size: 1.5rem; text-decoration: none;
    }
    /* زر العودة للأعلى */
    #backToTop {
      position: fixed; bottom: 20px; right: 20px;
      background: var(--accent-color); color: white; border: none;
      border-radius: 50%; padding: 10px; cursor: pointer; display: none;
      transition: var(--transition);
    }
    #backToTop i { font-size: 1.2rem; }
    /* المودال ولوحة التحكم */
    .modal {
      display: none; position: fixed; z-index: 1000;
      left: 0; top: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.5); backdrop-filter: blur(3px);
      justify-content: center; align-items: center; animation: modalFade 0.3s;
    }
    @keyframes modalFade { from { opacity: 0; } to { opacity: 1; } }
    .modal-content {
      background: var(--modal-bg); padding: 2rem; border-radius: 15px;
      width: 90%; max-width: 400px; text-align: center; position: relative;
      transform: translateY(-50px); animation: modalSlide 0.3s forwards;
    }
    @keyframes modalSlide { to { transform: translateY(0); } }
    .modal input {
      width: 100%; padding: 12px; margin: 1rem 0;
      border: 2px solid #ddd; border-radius: 8px; font-size: 1rem;
      transition: var(--transition);
    }
    .modal input:focus { border-color: var(--accent-color); outline: none; }
    .modal button {
      background: var(--accent-color); color: white; border: none;
      padding: 12px 30px; border-radius: 25px; cursor: pointer;
      font-size: 1rem; transition: var(--transition); margin-top: 1rem;
    }
    .modal button:hover { opacity: 0.9; transform: translateY(-2px); }
    .edit-panel {
      display: none; background: var(--modal-bg); border-radius: 15px;
      box-shadow: 0 5px 30px rgba(0,0,0,0.1); max-width: 800px;
      margin: 2rem auto; padding: 2rem; position: relative;
    }
    .edit-panel h2 {
      color: var(--primary-color); margin-bottom: 2rem;
      border-bottom: 2px solid #eee; padding-bottom: 1rem;
    }
    .form-group {
      margin-bottom: 1.5rem; display: flex; align-items: center; gap: 10px;
    }
    .form-group label { flex: 1; font-weight: 600; color: var(--text-color); }
    .form-control {
      flex: 2; padding: 12px; border: 2px solid #eee;
      border-radius: 8px; font-size: 1rem; transition: var(--transition);
    }
    .form-control:focus { border-color: var(--accent-color); outline: none; box-shadow: 0 0 8px rgba(26,188,156,0.3); }
    .eye-btn {
      background: transparent; border: none; cursor: pointer;
      font-size: 1.2rem; color: var(--accent-color);
    }
    .button-group {
      display: flex; gap: 10px; margin-top: 2rem; justify-content: flex-end;
    }
    .btn { padding: 10px 20px; border: none; cursor: pointer; border-radius: 5px; }
    .btn-primary { background: var(--accent-color); color: #fff; }
    .btn-secondary { background: #ccc; color: #000; }
    /* قسم الشهادات */
    #certificateImg { display: block; max-width: 200px; margin-top: 1rem; }
    footer { text-align: center; padding: 1rem; margin-top: 2rem; }
  </style>
</head>
<body data-theme="light">
  <!-- مؤشر التحميل -->
  <div id="preloader"><div class="spinner"></div></div>

  <!-- الهيدر -->
  <header class="header" id="header">
    <div class="profile-container">
      <!-- زر الإعدادات -->
      <div class="secret-trigger" title="تعديل الصفحة" onclick="openLoginModal()">
        <i class="fas fa-cog"></i>
      </div>
      <!-- زر تبديل الوضع الليلي -->
      <div class="theme-toggle" title="تبديل الوضع" onclick="toggleTheme()">
        <i class="fas fa-adjust"></i>
      </div>
      <!-- زر تبديل اللغة -->
      <div class="lang-toggle" title="تبديل اللغة" onclick="toggleLanguage()">
        <i class="fas fa-language"></i>
      </div>
      <img src="1.png" class="profile-img" id="profileImg" alt="صورتي الشخصية">
      <h1 id="name">فهد</h1>
      <p id="job" class="job-title">مطور ويب محترف</p>
    </div>
  </header>

  <!-- قسم المهارات -->
  <section class="content-section" data-aos="fade-up">
    <h2 id="skillsTitle">مهاراتي</h2>
    <div class="skills-grid">
      <div class="skill-card">
        <i class="fas fa-code"></i>
        <h3 id="skill1Title">تطوير الويب</h3>
        <p id="skill1Desc">تطوير مواقع وتطبيقات ويب متكاملة</p>
        <div class="progress">
          <div class="progress-bar" data-progress="90"></div>
        </div>
      </div>
      <div class="skill-card">
        <i class="fas fa-mobile-alt"></i>
        <h3 id="skill2Title">التصميم المتجاوب</h3>
        <p id="skill2Desc">تصميم متوافق مع جميع الأجهزة</p>
        <div class="progress">
          <div class="progress-bar" data-progress="80"></div>
        </div>
      </div>
      <div class="skill-card">
        <i class="fas fa-rocket"></i>
        <h3 id="skill3Title">تحسين الأداء</h3>
        <p id="skill3Desc">تحسين سرعة وأداء المواقع</p>
        <div class="progress">
          <div class="progress-bar" data-progress="85"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- قسم البورتفوليو -->
  <section id="portfolioSection" class="content-section" data-aos="fade-up">
    <h2 id="portfolioTitle">بورتفوليو</h2>
    <div class="portfolio-filters">
      <button onclick="filterPortfolio('all')">الكل</button>
      <button onclick="filterPortfolio('web')">ويب</button>
      <button onclick="filterPortfolio('mobile')">موبايل</button>
    </div>
    <div class="portfolio-grid">
      <div class="portfolio-card" data-category="web">
        <a href="project1.jpg" data-lightbox="portfolio">
          <i class="fas fa-laptop-code"></i>
        </a>
        <h3 id="project1Title">مشروع 1</h3>
        <p id="project1Desc">وصف مختصر للمشروع مع إبراز التقنيات المستخدمة.</p>
      </div>
      <div class="portfolio-card" data-category="mobile">
        <a href="project2.jpg" data-lightbox="portfolio">
          <i class="fas fa-mobile-alt"></i>
        </a>
        <h3 id="project2Title">مشروع 2</h3>
        <p id="project2Desc">تفاصيل عن مشروع آخر مع بعض الرسوم البيانية أو صور توضيحية.</p>
      </div>
      <div class="portfolio-card" data-category="web">
        <a href="project3.jpg" data-lightbox="portfolio">
          <i class="fas fa-chart-line"></i>
        </a>
        <h3 id="project3Title">مشروع 3</h3>
        <p id="project3Desc">تطبيق عملي يعرض قدراتك في مجالات مختلفة من البرمجة والتصميم.</p>
      </div>
    </div>
  </section>

  <!-- قسم الأحداث القادمة -->
  <section id="eventsSection" class="content-section" data-aos="fade-up">
    <h2 id="eventsTitle">الأحداث القادمة</h2>
    <div class="events">
      <ul>
        <li id="event1">حدث 1 - 25 ديسمبر 2024</li>
        <li id="event2">حدث 2 - 10 يناير 2025</li>
      </ul>
    </div>
  </section>

  <!-- قسم أمراض مزمنة -->
  <section id="chronicSection" class="content-section" data-aos="fade-up">
    <h2 id="chronicTitle">امراض مزمنة</h2>
    <p id="chronicContent">محتوى قسم أمراض مزمنة هنا.</p>
  </section>

  <!-- قسم المشاريع القادمة -->
  <section id="upcomingProjectsSection" class="content-section" data-aos="fade-up">
    <h2 id="upcomingProjectsTitle">المشاريع القادمة</h2>
    <p id="upcomingProjectsContent">محتوى قسم المشاريع القادمة هنا.</p>
  </section>

  <!-- قسم الشهادات -->
  <section id="testimonialsSection" class="content-section" data-aos="fade-up">
    <h2 id="testimonialsTitle">شهادات</h2>
    <!-- عرض عدد الشهادات -->
    <p id="certificatesCount">عدد الشهادات: 1</p>
    <p id="testimonialsContent">محتوى قسم الشهادات هنا.</p>
    <!-- صورة الشهادة إن وجدت -->
    <img id="certificateImg" alt="صورة الشهادة" />
  </section>

  <!-- نموذج التواصل -->
  <section class="content-section" data-aos="fade-up">
    <h2 id="contactTitle" style="text-align:center; margin-bottom: 2rem;">اتصل بي</h2>
    <div class="contact-form">
      <form onsubmit="sendMessage(event)">
        <input type="text" id="contactName" placeholder="اسمك" required>
        <input type="email" id="contactEmail" placeholder="بريدك الإلكتروني" required>
        <textarea id="contactMessage" placeholder="رسالتك" required></textarea>
        <button type="submit" id="contactBtn">إرسال</button>
      </form>
    </div>
  </section>

  <!-- أزرار المشاركة الاجتماعية -->
  <section class="content-section" data-aos="fade-up">
    <h2 id="shareTitle" style="text-align:center; margin-bottom: 2rem;">شارك البروفايل</h2>
    <div class="social-share">
      <a href="https://twitter.com/intent/tweet?url=mas_fahd505" target="_blank" title="Twitter">
        <i class="fab fa-twitter"></i>
      </a>
      <a href="https://wa.me/966535964292?text=+966535964292" target="_blank" title="WhatsApp">
        <i class="fab fa-whatsapp"></i>
      </a>
      <a href="https://t.me/share/url?url=@wow1505" target="_blank" title="Telegram">
        <i class="fab fa-telegram"></i>
      </a>
      <a href="tel:+966535964292" title="Call">
        <i class="fas fa-phone"></i>
      </a>
    </div>
  </section>

  <!-- زر العودة للأعلى -->
  <button id="backToTop" title="العودة للأعلى">
    <i class="fas fa-arrow-up"></i>
  </button>

  <!-- لوحة تسجيل الدخول (مودال) -->
  <div class="modal" id="loginModal" aria-modal="true" role="dialog">
    <div class="modal-content">
      <h2 id="loginTitle">التحقق من الهوية</h2>
      <input type="password" id="passwordInput" placeholder="كلمة المرور" aria-label="كلمة المرور">
      <button onclick="checkPassword()" id="loginBtn">دخول</button>
      <br>
      <button onclick="simulateFingerprintAuth()" id="fingerprintBtn">تحقق ببصمة الجوال</button>
      <p id="loginError" class="error-message" style="color:#e74c3c;"></p>
    </div>
  </div>

  <!-- لوحة التحكم -->
  <div class="edit-panel" id="editPanel">
    <h2 id="editTitle">لوحة التحكم</h2>
    <!-- الإعدادات الأساسية -->
    <div class="form-group">
      <label for="editName" id="editNameLabel">الاسم الكامل:</label>
      <input type="text" id="editName" class="form-control">
    </div>
    <div class="form-group">
      <label for="editJob" id="editJobLabel">المسمى الوظيفي:</label>
      <input type="text" id="editJob" class="form-control">
    </div>
    <div class="form-group">
      <label for="editProfileImage" id="editImgLabel">تغيير صورة البروفايل:</label>
      <input type="file" id="editProfileImage" accept="image/*" class="form-control">
    </div>
    <!-- خيارات خلفية الهيدر -->
    <div class="form-group">
      <label for="editHeaderBgSelect" id="editHeaderLabel">اختر خلفية الهيدر:</label>
      <select id="editHeaderBgSelect" class="form-control">
        <option value="linear-gradient(135deg, rgb(44, 62, 80), rgb(52, 152, 229))">خيار 1 (تدرج)</option>
        <option value="linear-gradient(135deg, rgb(255, 0, 0), rgb(0, 255, 0))">خيار 2 (تدرج)</option>
        <option value="linear-gradient(135deg, rgb(255, 140, 0), rgb(255, 215, 0))">خيار 3 (تدرج)</option>
        <option value="#ffcc00">لون أصفر</option>
        <option value="#00ccff">لون أزرق فاتح</option>
        <option value="url('bg1.jpg')">صورة خلفية 1</option>
        <option value="url('bg2.jpg')">صورة خلفية 2</option>
      </select>
    </div>
    <div class="form-group">
      <label for="editCopyright" id="editCopyLabel">نص الحقوق:</label>
      <input type="text" id="editCopyright" class="form-control" placeholder="جميع الحقوق محفوظة © 2025">
    </div>
    <div class="form-group">
      <label for="editProfileShape" id="editShapeLabel">اختر شكل الصورة الشخصية:</label>
      <select id="editProfileShape" class="form-control">
        <option value="50%">دائري</option>
        <option value="0%">مربع</option>
        <option value="10%">مستدير قليلاً</option>
      </select>
    </div>
    <div class="form-group">
      <label for="toggleAnimations">تفعيل الحركات:</label>
      <input type="checkbox" id="toggleAnimations" checked>
    </div>
    <div class="form-group">
      <label for="toggleSound">تفعيل الصوت:</label>
      <input type="checkbox" id="toggleSound" checked>
    </div>
    <div class="form-group">
      <label for="portfolioLayout">تبديل تخطيط البورتفوليو:</label>
      <select id="portfolioLayout" class="form-control">
        <option value="grid">شبكي</option>
        <option value="list">قائمة</option>
      </select>
    </div>
    <!-- تعبئة محتوى الأقسام -->
    <hr>
    <h3>تعبئة محتوى الأقسام</h3>
    <!-- أحداث قادمة -->
    <div class="form-group">
      <label>عنوان الأحداث القادمة:</label>
      <input type="text" id="editEventsTitle" class="form-control">
    </div>
    <div class="form-group">
      <label>الحدث 1:</label>
      <input type="text" id="editEvent1" class="form-control">
    </div>
    <div class="form-group">
      <label>الحدث 2:</label>
      <input type="text" id="editEvent2" class="form-control">
    </div>
    <!-- أمراض مزمنة (يمكن إدخال أكثر من مرض مفصولة بفاصلة) -->
    <div class="form-group">
      <label>عنوان قسم أمراض مزمنة:</label>
      <input type="text" id="editChronicTitle" class="form-control">
    </div>
    <div class="form-group">
      <label>الأمراض المزمنة (افصلها بفاصلة):</label>
      <input type="text" id="editChronicList" class="form-control" placeholder="مرض1, مرض2, ...">
    </div>
    <!-- مشاريع قادمة (يمكن إدخال أكثر من مشروع مفصولة بفاصلة) -->
    <div class="form-group">
      <label>عنوان قسم المشاريع القادمة:</label>
      <input type="text" id="editUpcomingProjectsTitle" class="form-control">
    </div>
    <div class="form-group">
      <label>المشاريع القادمة (افصلها بفاصلة):</label>
      <input type="text" id="editProjectsList" class="form-control" placeholder="مشروع1, مشروع2, ...">
    </div>
    <!-- شهادات -->
    <div class="form-group">
      <label>عنوان قسم الشهادات:</label>
      <input type="text" id="editTestimonialsTitle" class="form-control">
    </div>
    <div class="form-group">
      <label>محتوى قسم الشهادات:</label>
      <input type="text" id="editTestimonialsContent" class="form-control">
    </div>
    <div class="form-group">
      <label>عدد الشهادات:</label>
      <input type="number" id="editCertificatesCount" class="form-control" placeholder="مثلاً 3">
    </div>
    <div class="form-group">
      <label>صورة الشهادة (إن وجدت):</label>
      <input type="file" id="editCertificateImage" accept="image/*" class="form-control">
    </div>
    <!-- خيارات إظهار/إخفاء الأقسام -->
    <hr>
    <h3>عرض/إخفاء الأقسام</h3>
    <div class="form-group">
      <label>عرض/إخفاء البورتفوليو:</label>
      <button type="button" id="togglePortfolioVisibility" onclick="toggleSection('portfolioSection')" class="eye-btn">
        <i class="fas fa-eye"></i>
      </button>
    </div>
    <div class="form-group">
      <label>عرض/إخفاء الأحداث القادمة:</label>
      <button type="button" id="toggleEventsVisibility" onclick="toggleSection('eventsSection')" class="eye-btn">
        <i class="fas fa-eye"></i>
      </button>
    </div>
    <div class="form-group">
      <label>عرض/إخفاء امراض مزمنة:</label>
      <button type="button" id="toggleChronicVisibility" onclick="toggleSection('chronicSection')" class="eye-btn">
        <i class="fas fa-eye"></i>
      </button>
    </div>
    <div class="form-group">
      <label>عرض/إخفاء المشاريع القادمة:</label>
      <button type="button" id="toggleUpcomingProjectsVisibility" onclick="toggleSection('upcomingProjectsSection')" class="eye-btn">
        <i class="fas fa-eye"></i>
      </button>
    </div>
    <div class="form-group">
      <label>عرض/إخفاء شهادات:</label>
      <button type="button" id="toggleTestimonialsVisibility" onclick="toggleSection('testimonialsSection')" class="eye-btn">
        <i class="fas fa-eye"></i>
      </button>
    </div>
    <div class="button-group">
      <button class="btn btn-primary" onclick="saveEdits()" id="saveEditsBtn">حفظ التغييرات</button>
      <button class="btn btn-secondary" onclick="resetDefaults()" id="resetDefaultsBtn">إعادة الإعدادات</button>
      <button class="btn btn-secondary" onclick="closeEditPanel()" id="cancelEditsBtn">إلغاء</button>
    </div>
  </div>

  <!-- زر لتشغيل الصوت عند النقر -->
  <audio id="clickSound" src="click.mp3"></audio>

  <footer id="footer">
    <p id="footerCopyright">جميع الحقوق محفوظة © 2025</p>
  </footer>

  <!-- استيراد مكتبات JavaScript الخارجية -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/js/lightbox.min.js"></script>
  <script src="https://hammerjs.github.io/dist/hammer.min.js"></script>
  <script>
    // تهيئة AOS
    AOS.init();

    // الإعدادات الافتراضية
    const defaultSettings = {
      theme: document.documentElement.getAttribute('data-theme') || 'light',
      headerBg: "linear-gradient(135deg, rgb(44, 62, 80), rgb(52, 152, 229))",
      portfolioLayout: "grid",
      animations: true,
      sound: true,
    };

    let isAuthenticated = false;
    const correctPassword = "12345";

    // عند تحميل الصفحة
    window.addEventListener('load', () => {
      document.getElementById('preloader').style.display = 'none';
      const year = new Date().getFullYear();
      document.getElementById('footerCopyright').innerText = `جميع الحقوق محفوظة © ${year}`;
      document.querySelectorAll('.progress-bar').forEach(bar => {
        bar.style.width = bar.dataset.progress + '%';
      });
      restoreSettings();
    });

    // زر العودة للأعلى
    window.addEventListener('scroll', () => {
      document.getElementById('backToTop').style.display = (window.scrollY > 300) ? 'block' : 'none';
    });
    document.getElementById('backToTop').addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // نظام تسجيل الدخول
    function openLoginModal() {
      document.getElementById('loginModal').style.display = 'flex';
      document.getElementById('passwordInput').focus();
    }
    function checkPassword() {
      if(document.getElementById('passwordInput').value === correctPassword) {
        isAuthenticated = true;
        document.getElementById('loginModal').style.display = 'none';
        openEditPanel();
      } else {
        showError('كلمة المرور غير صحيحة!');
      }
    }
    function simulateFingerprintAuth() {
      showSuccess('جاري التحقق ببصمة الجوال...');
      setTimeout(() => {
        isAuthenticated = true;
        showSuccess('تم التحقق بنجاح!');
        document.getElementById('loginModal').style.display = 'none';
        openEditPanel();
      }, 1500);
    }

    // فتح لوحة التحكم وتعبئة الحقول بالقيم الحالية
    function openEditPanel() {
      if(!isAuthenticated) return;
      document.getElementById('editName').value = document.getElementById('name').innerText;
      document.getElementById('editJob').value = document.getElementById('job').innerText;
      document.getElementById('editHeaderBgSelect').value = document.getElementById('header').style.background || defaultSettings.headerBg;
      document.getElementById('editCopyright').value = document.getElementById('footerCopyright').innerText;
      document.getElementById('editProfileShape').value = window.getComputedStyle(document.getElementById('profileImg')).borderRadius;
      
      // تعبئة حقول الأقسام
      document.getElementById('editEventsTitle').value = document.getElementById('eventsTitle').innerText;
      document.getElementById('editEvent1').value = document.getElementById('event1').innerText;
      document.getElementById('editEvent2').value = document.getElementById('event2').innerText;
      document.getElementById('editChronicTitle').value = document.getElementById('chronicTitle').innerText;
      // لتحويل النص إلى قائمة إذا كان موجوداً مسبقًا
      document.getElementById('editChronicList').value = localStorage.getItem('chronicList') || "";
      document.getElementById('editUpcomingProjectsTitle').value = document.getElementById('upcomingProjectsTitle').innerText;
      document.getElementById('editProjectsList').value = localStorage.getItem('projectsList') || "";
      document.getElementById('editTestimonialsTitle').value = document.getElementById('testimonialsTitle').innerText;
      document.getElementById('editTestimonialsContent').value = document.getElementById('testimonialsContent').innerText;
      document.getElementById('editCertificatesCount').value = localStorage.getItem('certificatesCount') || 1;
      
      document.getElementById('toggleAnimations').checked = (localStorage.getItem('animationsEnabled') !== 'false');
      document.getElementById('toggleSound').checked = (localStorage.getItem('soundEnabled') !== 'false');
      document.getElementById('portfolioLayout').value = localStorage.getItem('portfolioLayout') || defaultSettings.portfolioLayout;
      
      document.getElementById('editPanel').style.display = 'block';
      window.scrollTo({top: 0, behavior: 'smooth'});
    }

    // حفظ التغييرات مع تحديث المحتويات في الأقسام وحفظها في localStorage
    function saveEdits() {
      const newName = document.getElementById('editName').value.trim();
      const newJob = document.getElementById('editJob').value.trim();
      const newHeaderBg = document.getElementById('editHeaderBgSelect').value.trim();
      const newCopyright = document.getElementById('editCopyright').value.trim();
      const newProfileShape = document.getElementById('editProfileShape').value;
      const animationsEnabled = document.getElementById('toggleAnimations').checked;
      const soundEnabled = document.getElementById('toggleSound').checked;
      const newPortfolioLayout = document.getElementById('portfolioLayout').value;

      if(!newName || !newJob || !newHeaderBg || !newCopyright) {
        showError('الرجاء تعبئة جميع الحقول المطلوبة');
        return;
      }
      document.getElementById('name').innerText = newName;
      document.getElementById('job').innerText = newJob;
      document.getElementById('header').style.background = newHeaderBg;
      document.getElementById('footerCopyright').innerText = newCopyright;
      document.getElementById('profileImg').style.borderRadius = newProfileShape;

      // تحديث محتوى الأقسام
      document.getElementById('eventsTitle').innerText = document.getElementById('editEventsTitle').value.trim();
      document.getElementById('event1').innerText = document.getElementById('editEvent1').value.trim();
      document.getElementById('event2').innerText = document.getElementById('editEvent2').value.trim();
      
      document.getElementById('chronicTitle').innerText = document.getElementById('editChronicTitle').value.trim();
      // حفظ قائمة الأمراض المزمنة (يمكن إدخالها مفصولة بفاصلة)
      const chronicList = document.getElementById('editChronicList').value.trim();
      localStorage.setItem('chronicList', chronicList);
      document.getElementById('chronicContent').innerText = (chronicList) ? chronicList.split(',').join(' - ') : '';

      document.getElementById('upcomingProjectsTitle').innerText = document.getElementById('editUpcomingProjectsTitle').value.trim();
      const projectsList = document.getElementById('editProjectsList').value.trim();
      localStorage.setItem('projectsList', projectsList);
      document.getElementById('upcomingProjectsContent').innerText = (projectsList) ? projectsList.split(',').join(' - ') : '';

      document.getElementById('testimonialsTitle').innerText = document.getElementById('editTestimonialsTitle').value.trim();
      document.getElementById('testimonialsContent').innerText = document.getElementById('editTestimonialsContent').value.trim();
      
      // تحديث عدد الشهادات
      const certificatesCount = document.getElementById('editCertificatesCount').value.trim();
      localStorage.setItem('certificatesCount', certificatesCount);
      document.getElementById('certificatesCount').innerText = `عدد الشهادات: ${certificatesCount}`;

      // تخزين الإعدادات في localStorage
      localStorage.setItem('profileName', newName);
      localStorage.setItem('profileJob', newJob);
      localStorage.setItem('headerBg', newHeaderBg);
      localStorage.setItem('footerCopyright', newCopyright);
      localStorage.setItem('profileShape', newProfileShape);
      localStorage.setItem('portfolioLayout', newPortfolioLayout);
      localStorage.setItem('animationsEnabled', animationsEnabled);
      localStorage.setItem('soundEnabled', soundEnabled);

      applyPortfolioLayout(newPortfolioLayout);
      closeEditPanel();
      showSuccess('تم الحفظ بنجاح!');
    }

    // إعادة الإعدادات الافتراضية
    function resetDefaults() {
      document.getElementById('editName').value = "فهد";
      document.getElementById('editJob').value = "مطور ويب محترف";
      document.getElementById('editHeaderBgSelect').value = defaultSettings.headerBg;
      document.getElementById('editCopyright').value = `جميع الحقوق محفوظة © ${new Date().getFullYear()}`;
      document.getElementById('editProfileShape').value = "50%";
      document.getElementById('toggleAnimations').checked = defaultSettings.animations;
      document.getElementById('toggleSound').checked = defaultSettings.sound;
      document.getElementById('portfolioLayout').value = defaultSettings.portfolioLayout;
      document.getElementById('editEventsTitle').value = "الأحداث القادمة";
      document.getElementById('editEvent1').value = "حدث 1 - 25 ديسمبر 2024";
      document.getElementById('editEvent2').value = "حدث 2 - 10 يناير 2025";
      document.getElementById('editChronicTitle').value = "امراض مزمنة";
      document.getElementById('editChronicList').value = "";
      document.getElementById('editUpcomingProjectsTitle').value = "المشاريع القادمة";
      document.getElementById('editProjectsList').value = "";
      document.getElementById('editTestimonialsTitle').value = "شهادات";
      document.getElementById('editTestimonialsContent').value = "محتوى قسم الشهادات هنا.";
      document.getElementById('editCertificatesCount').value = 1;
      showSuccess('تمت إعادة الإعدادات الإفتراضية');
    }

    function closeEditPanel() {
      document.getElementById('editPanel').style.display = 'none';
      isAuthenticated = false;
    }
    function showError(message) {
      const errorElem = document.getElementById('loginError');
      errorElem.innerText = message;
      setTimeout(() => errorElem.innerText = '', 3000);
    }
    function showSuccess(message) {
      const successElem = document.createElement('div');
      successElem.style.position = 'fixed';
      successElem.style.bottom = '20px';
      successElem.style.left = '50%';
      successElem.style.transform = 'translateX(-50%)';
      successElem.style.backgroundColor = '#2ecc71';
      successElem.style.color = 'white';
      successElem.style.padding = '15px 30px';
      successElem.style.borderRadius = '25px';
      successElem.style.boxShadow = '0 3px 15px rgba(0,0,0,0.2)';
      successElem.innerText = message;
      document.body.appendChild(successElem);
      setTimeout(() => successElem.remove(), 2000);
    }
    function playSound() {
      if(window.soundEnabled !== false) {
        document.getElementById('clickSound').play();
      }
    }
    function notifyUser(message) {
      if(Notification.permission === 'granted') {
        new Notification('تنبيه', { body: message });
      } else if(Notification.permission !== 'denied') {
        Notification.requestPermission().then(permission => {
          if(permission === 'granted') notifyUser(message);
        });
      }
    }
    function filterPortfolio(category) {
      document.querySelectorAll('.portfolio-card').forEach(card => {
        card.style.display = (category === 'all' || card.dataset.category === category) ? 'block' : 'none';
      });
    }
    function sendMessage(e) {
      e.preventDefault();
      alert('تم إرسال رسالتك بنجاح!');
    }
    function toggleTheme() {
      const current = document.documentElement.getAttribute('data-theme');
      const newTheme = current === 'light' ? 'dark' : 'light';
      document.documentElement.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
    }
    var hammer = new Hammer(document.body);
    hammer.on('swipeleft', function() { console.log('تم السحب لليسار!'); });
    function setLanguage(lang) {
      localStorage.setItem('lang', lang);
      updateLanguage();
    }
    function toggleLanguage() {
      const currentLang = localStorage.getItem('lang') || 'ar';
      const newLang = currentLang === 'ar' ? 'en' : 'ar';
      setLanguage(newLang);
    }
    function updateLanguage() {
      const lang = localStorage.getItem('lang') || 'ar';
      if(lang === 'en'){
        document.getElementById('name').innerText = "Fahad";
        document.getElementById('job').innerText = "Professional Web Developer";
        document.getElementById('skillsTitle').innerText = "My Skills";
        document.getElementById('skill1Title').innerText = "Web Development";
        document.getElementById('skill1Desc').innerText = "Building complete web applications";
        document.getElementById('skill2Title').innerText = "Responsive Design";
        document.getElementById('skill2Desc').innerText = "Designs that work on all devices";
        document.getElementById('skill3Title').innerText = "Performance Optimization";
        document.getElementById('skill3Desc').innerText = "Speeding up and enhancing site performance";
        document.getElementById('portfolioTitle').innerText = "Portfolio";
        document.getElementById('project1Title').innerText = "Project 1";
        document.getElementById('project1Desc').innerText = "Brief project description highlighting used technologies.";
        document.getElementById('project2Title').innerText = "Project 2";
        document.getElementById('project2Desc').innerText = "Details of another project with graphics or images.";
        document.getElementById('project3Title').innerText = "Project 3";
        document.getElementById('project3Desc').innerText = "Practical application showcasing skills in various fields.";
        document.getElementById('contactTitle').innerText = "Contact Me";
        document.getElementById('contactBtn').innerText = "Send";
        document.getElementById('eventsTitle').innerText = "Upcoming Events";
        document.getElementById('shareTitle').innerText = "Share Profile";
        document.getElementById('loginTitle').innerText = "User Verification";
        document.getElementById('loginBtn').innerText = "Login";
        document.getElementById('fingerprintBtn').innerText = "Verify with Fingerprint";
        document.getElementById('editTitle').innerText = "Control Panel";
        document.getElementById('editNameLabel').innerText = "Full Name:";
        document.getElementById('editJobLabel').innerText = "Job Title:";
        document.getElementById('editImgLabel').innerText = "Change Profile Image:";
        document.getElementById('editHeaderLabel').innerText = "Choose Header Background:";
        document.getElementById('editCopyLabel').innerText = "Copyright Text:";
        document.getElementById('editShapeLabel').innerText = "Choose Profile Image Shape:";
        document.getElementById('saveEditsBtn').innerText = "Save Changes";
        document.getElementById('cancelEditsBtn').innerText = "Cancel";
        document.getElementById('editEventsTitle').placeholder = "Events Title";
        document.getElementById('editChronicTitle').placeholder = "Chronic Title";
        document.getElementById('editChronicList').placeholder = "Disease1, Disease2, ...";
        document.getElementById('editUpcomingProjectsTitle').placeholder = "Upcoming Projects Title";
        document.getElementById('editProjectsList').placeholder = "Project1, Project2, ...";
        document.getElementById('editTestimonialsTitle').placeholder = "Testimonials Title";
        document.getElementById('editTestimonialsContent').placeholder = "Testimonials Content";
        document.querySelector('.lang-toggle').setAttribute('title', 'Switch Language');
        document.getElementById('footerCopyright').innerText = `All rights reserved © ${new Date().getFullYear()}`;
      } else {
        document.getElementById('name').innerText = "فهد";
        document.getElementById('job').innerText = "مطور ويب محترف";
        document.getElementById('skillsTitle').innerText = "مهاراتي";
        document.getElementById('skill1Title').innerText = "تطوير الويب";
        document.getElementById('skill1Desc').innerText = "تطوير مواقع وتطبيقات ويب متكاملة";
        document.getElementById('skill2Title').innerText = "التصميم المتجاوب";
        document.getElementById('skill2Desc').innerText = "تصميم متوافق مع جميع الأجهزة";
        document.getElementById('skill3Title').innerText = "تحسين الأداء";
        document.getElementById('skill3Desc').innerText = "تحسين سرعة وأداء المواقع";
        document.getElementById('portfolioTitle').innerText = "بورتفوليو";
        document.getElementById('project1Title').innerText = "مشروع 1";
        document.getElementById('project1Desc').innerText = "وصف مختصر للمشروع مع إبراز التقنيات المستخدمة.";
        document.getElementById('project2Title').innerText = "مشروع 2";
        document.getElementById('project2Desc').innerText = "تفاصيل عن مشروع آخر مع بعض الرسوم البيانية أو صور توضيحية.";
        document.getElementById('project3Title').innerText = "مشروع 3";
        document.getElementById('project3Desc').innerText = "تطبيق عملي يعرض قدراتك في مجالات مختلفة من البرمجة والتصميم.";
        document.getElementById('contactTitle').innerText = "اتصل بي";
        document.getElementById('contactBtn').innerText = "إرسال";
        document.getElementById('eventsTitle').innerText = "الأحداث القادمة";
        document.getElementById('shareTitle').innerText = "شارك البروفايل";
        document.getElementById('loginTitle').innerText = "التحقق من الهوية";
        document.getElementById('loginBtn').innerText = "دخول";
        document.getElementById('fingerprintBtn').innerText = "تحقق ببصمة الجوال";
        document.getElementById('editTitle').innerText = "لوحة التحكم";
        document.getElementById('editNameLabel').innerText = "الاسم الكامل:";
        document.getElementById('editJobLabel').innerText = "المسمى الوظيفي:";
        document.getElementById('editImgLabel').innerText = "تغيير صورة البروفايل:";
        document.getElementById('editHeaderLabel').innerText = "اختر خلفية الهيدر:";
        document.getElementById('editCopyLabel').innerText = "نص الحقوق:";
        document.getElementById('editShapeLabel').innerText = "اختر شكل الصورة الشخصية:";
        document.getElementById('saveEditsBtn').innerText = "حفظ التغييرات";
        document.getElementById('cancelEditsBtn').innerText = "إلغاء";
        document.getElementById('editEventsTitle').placeholder = "";
        document.getElementById('editChronicTitle').placeholder = "";
        document.getElementById('editChronicList').placeholder = "";
        document.getElementById('editUpcomingProjectsTitle').placeholder = "";
        document.getElementById('editProjectsList').placeholder = "";
        document.getElementById('editTestimonialsTitle').placeholder = "";
        document.getElementById('editTestimonialsContent').placeholder = "";
        document.querySelector('.lang-toggle').setAttribute('title', 'تبديل اللغة');
        document.getElementById('footerCopyright').innerText = `جميع الحقوق محفوظة © ${new Date().getFullYear()}`;
      }
    }

    // عند تغيير صورة البروفايل
    document.getElementById('editProfileImage').addEventListener('change', function(e) {
      const file = e.target.files[0];
      if (file && file.type.startsWith("image/")) {
        const reader = new FileReader();
        reader.onload = function(event) {
          const dataURL = event.target.result;
          document.getElementById('profileImg').src = dataURL;
          localStorage.setItem('profileImage', dataURL);
        }
        reader.readAsDataURL(file);
      } else {
        showError("يرجى اختيار ملف صورة صالح.");
      }
    });

    // عند تغيير صورة الشهادة
    document.getElementById('editCertificateImage').addEventListener('change', function(e) {
      const file = e.target.files[0];
      if (file && file.type.startsWith("image/")) {
        const reader = new FileReader();
        reader.onload = function(event) {
          const dataURL = event.target.result;
          document.getElementById('certificateImg').src = dataURL;
          localStorage.setItem('certificateImage', dataURL);
        }
        reader.readAsDataURL(file);
      } else {
        showError("يرجى اختيار ملف صورة صالح.");
      }
    });

    // دالة لتبديل ظهور الأقسام مع تغيير أيقونة العين
    function toggleSection(sectionId) {
      const section = document.getElementById(sectionId);
      let btn;
      // استنادًا إلى القسم، يتم تحديد زر التبديل المناسب
      if(sectionId === 'portfolioSection') btn = document.getElementById('togglePortfolioVisibility');
      else if(sectionId === 'eventsSection') btn = document.getElementById('toggleEventsVisibility');
      else if(sectionId === 'chronicSection') btn = document.getElementById('toggleChronicVisibility');
      else if(sectionId === 'upcomingProjectsSection') btn = document.getElementById('toggleUpcomingProjectsVisibility');
      else if(sectionId === 'testimonialsSection') btn = document.getElementById('toggleTestimonialsVisibility');

      if (section.style.display === "none" || section.style.display === "") {
        section.style.display = "block";
        if(btn) btn.innerHTML = '<i class="fas fa-eye"></i>';
        localStorage.setItem(sectionId, "block");
      } else {
        section.style.display = "none";
        if(btn) btn.innerHTML = '<i class="fas fa-eye-slash"></i>';
        localStorage.setItem(sectionId, "none");
      }
    }

    // استعادة الإعدادات من localStorage
    function restoreSettings() {
      const storedTheme = localStorage.getItem('theme');
      if(storedTheme) { document.documentElement.setAttribute('data-theme', storedTheme); }
      const storedName = localStorage.getItem('profileName');
      if (storedName) { document.getElementById('name').innerText = storedName; }
      const storedJob = localStorage.getItem('profileJob');
      if (storedJob) { document.getElementById('job').innerText = storedJob; }
      const storedHeaderBg = localStorage.getItem('headerBg');
      if (storedHeaderBg) { document.getElementById('header').style.background = storedHeaderBg; }
      const storedCopyright = localStorage.getItem('footerCopyright');
      if (storedCopyright) { document.getElementById('footerCopyright').innerText = storedCopyright; }
      const storedProfileShape = localStorage.getItem('profileShape');
      if (storedProfileShape) { document.getElementById('profileImg').style.borderRadius = storedProfileShape; }
      const storedImage = localStorage.getItem('profileImage');
      if (storedImage) { document.getElementById('profileImg').src = storedImage; }
      const storedCertificate = localStorage.getItem('certificateImage');
      if (storedCertificate) { document.getElementById('certificateImg').src = storedCertificate; }
      ['portfolioSection','eventsSection','chronicSection','upcomingProjectsSection','testimonialsSection'].forEach(sectionId => {
        const displayVal = localStorage.getItem(sectionId);
        if(displayVal) { document.getElementById(sectionId).style.display = displayVal; }
      });
      const eventsTitle = localStorage.getItem('eventsTitle');
      if (eventsTitle) { document.getElementById('eventsTitle').innerText = eventsTitle; }
      const event1 = localStorage.getItem('event1');
      if (event1) { document.getElementById('event1').innerText = event1; }
      const event2 = localStorage.getItem('event2');
      if (event2) { document.getElementById('event2').innerText = event2; }
      const chronicTitle = localStorage.getItem('chronicTitle');
      if (chronicTitle) { document.getElementById('chronicTitle').innerText = chronicTitle; }
      const chronicContent = localStorage.getItem('chronicContent');
      if (chronicContent) { document.getElementById('chronicContent').innerText = chronicContent; }
      const upcomingProjectsTitle = localStorage.getItem('upcomingProjectsTitle');
      if (upcomingProjectsTitle) { document.getElementById('upcomingProjectsTitle').innerText = upcomingProjectsTitle; }
      const upcomingProjectsContent = localStorage.getItem('upcomingProjectsContent');
      if (upcomingProjectsContent) { document.getElementById('upcomingProjectsContent').innerText = upcomingProjectsContent; }
      const testimonialsTitle = localStorage.getItem('testimonialsTitle');
      if (testimonialsTitle) { document.getElementById('testimonialsTitle').innerText = testimonialsTitle; }
      const testimonialsContent = localStorage.getItem('testimonialsContent');
      if (testimonialsContent) { document.getElementById('testimonialsContent').innerText = testimonialsContent; }
      const storedLayout = localStorage.getItem('portfolioLayout');
      if(storedLayout) { applyPortfolioLayout(storedLayout); }
      window.animationsEnabled = (localStorage.getItem('animationsEnabled') !== 'false');
      window.soundEnabled = (localStorage.getItem('soundEnabled') !== 'false');
      updateLanguage();
      // استعادة محتوى الأقسام الإضافية
      const chronicList = localStorage.getItem('chronicList');
      if(chronicList) { document.getElementById('chronicContent').innerText = chronicList.split(',').join(' - '); }
      const projectsList = localStorage.getItem('projectsList');
      if(projectsList) { document.getElementById('upcomingProjectsContent').innerText = projectsList.split(',').join(' - '); }
      const certificatesCount = localStorage.getItem('certificatesCount');
      if(certificatesCount) { document.getElementById('certificatesCount').innerText = `عدد الشهادات: ${certificatesCount}`; }
    }
    function applyPortfolioLayout(layout) {
      if(layout === "list") {
        document.querySelector('.portfolio-grid').style.display = "block";
        document.querySelector('.portfolio-grid').style.gridTemplateColumns = "1fr";
      } else {
        document.querySelector('.portfolio-grid').style.display = "grid";
        document.querySelector('.portfolio-grid').style.gridTemplateColumns = "repeat(auto-fit, minmax(250px, 1fr))";
      }
    }
  </script>
</body>
</html>
